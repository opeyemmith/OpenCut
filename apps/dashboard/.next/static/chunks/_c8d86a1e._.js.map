{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/types/project-schema.ts"],"sourcesContent":["/**\r\n * OpenCut Project Schema Types\r\n *\r\n * These types represent the NORMALIZED format we use internally.\r\n * The version adapters translate to/from actual OpenCut format.\r\n */\r\n\r\n// ============================================\r\n// Normalized Project (Our Format)\r\n// ============================================\r\n\r\nexport interface NormalizedProject {\r\n  version: string;\r\n  metadata: ProjectMetadata;\r\n  canvas: CanvasSettings;\r\n  tracks: NormalizedTrack[];\r\n  mediaManifest: MediaManifest;\r\n}\r\n\r\nexport interface ProjectMetadata {\r\n  id: string;\r\n  name: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  duration: number;\r\n}\r\n\r\nexport interface CanvasSettings {\r\n  width: number;\r\n  height: number;\r\n  fps: number;\r\n  backgroundColor: string;\r\n  backgroundType: \"color\" | \"blur\";\r\n}\r\n\r\nexport interface NormalizedTrack {\r\n  id: string;\r\n  type: \"main\" | \"video\" | \"audio\" | \"text\" | \"image\";\r\n  order: number;\r\n  muted: boolean;\r\n  locked: boolean;\r\n  elements: NormalizedElement[];\r\n}\r\n\r\nexport interface NormalizedElement {\r\n  id: string;\r\n  type: \"video\" | \"audio\" | \"text\" | \"image\";\r\n  startTime: number;\r\n  duration: number;\r\n  trimStart: number;\r\n  trimEnd: number;\r\n\r\n  // Media reference (for video/audio/image)\r\n  mediaId?: string;\r\n\r\n  // Text properties\r\n  textContent?: string;\r\n  textStyle?: TextStyleProperties;\r\n\r\n  // Transform\r\n  transform?: ElementTransform;\r\n}\r\n\r\nexport interface TextStyleProperties {\r\n  fontFamily: string;\r\n  fontSize: number;\r\n  fontWeight: number;\r\n  color: string;\r\n  backgroundColor?: string;\r\n  textAlign: \"left\" | \"center\" | \"right\";\r\n}\r\n\r\nexport interface ElementTransform {\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n  rotation: number;\r\n  scale: number;\r\n  opacity: number;\r\n}\r\n\r\n// ============================================\r\n// Media Manifest\r\n// ============================================\r\n\r\nexport interface MediaManifest {\r\n  items: MediaItem[];\r\n}\r\n\r\nexport interface MediaItem {\r\n  id: string;\r\n  name: string;\r\n  type: \"video\" | \"audio\" | \"image\";\r\n  path: string;\r\n  duration?: number;\r\n  size: number;\r\n  mimeType: string;\r\n}\r\n\r\n// ============================================\r\n// Version Adapter Interface\r\n// ============================================\r\n\r\nexport interface VersionAdapter {\r\n  readonly version: string;\r\n  readonly compatibleVersions: string[];\r\n\r\n  /**\r\n   * Convert OpenCut project format to normalized format\r\n   */\r\n  toNormalized(opencutProject: unknown): NormalizedProject;\r\n\r\n  /**\r\n   * Convert normalized format back to OpenCut format\r\n   */\r\n  fromNormalized(project: NormalizedProject): unknown;\r\n\r\n  /**\r\n   * Get the OpenCut version from a project\r\n   */\r\n  getProjectVersion(project: unknown): string | null;\r\n}\r\n\r\n// ============================================\r\n// Export Settings\r\n// ============================================\r\n\r\nexport interface ExportSettings {\r\n  format: \"mp4\" | \"webm\" | \"mov\";\r\n  quality: \"low\" | \"medium\" | \"high\" | \"ultra\";\r\n  resolution?: { width: number; height: number };\r\n  fps?: number;\r\n}\r\n\r\nexport interface ExportJob {\r\n  id: string;\r\n  projectId: string;\r\n  status: \"pending\" | \"processing\" | \"completed\" | \"failed\";\r\n  progress: number;\r\n  outputPath?: string;\r\n  error?: string;\r\n}\r\n\r\n// ============================================\r\n// Launch Options\r\n// ============================================\r\n\r\nexport interface LaunchOptions {\r\n  mode?: \"edit\" | \"preview\" | \"export\";\r\n  autoSave?: boolean;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED,+CAA+C;AAC/C,kCAAkC;AAClC,+CAA+C","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/types/index.ts"],"sourcesContent":["/**\r\n * Types Index\r\n */\r\nexport * from \"./project-schema\";\r\n"],"names":[],"mappings":"AAAA;;CAEC;AACD","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/adapters/v1-adapter.ts"],"sourcesContent":["/**\r\n * V1 Adapter\r\n *\r\n * Adapter for current OpenCut project format.\r\n * Translates between OpenCut format and our normalized schema.\r\n */\r\n\r\nimport type {\r\n  NormalizedProject,\r\n  NormalizedTrack,\r\n  NormalizedElement,\r\n  VersionAdapter,\r\n  MediaManifest,\r\n} from \"../types\";\r\n\r\nexport class V1Adapter implements VersionAdapter {\r\n  readonly version = \"1.x\";\r\n  readonly compatibleVersions = [\"1.0\", \"1.1\", \"1.2\"];\r\n\r\n  getProjectVersion(project: unknown): string | null {\r\n    // OpenCut projects may have version in metadata\r\n    if (typeof project === \"object\" && project !== null) {\r\n      const p = project as Record<string, unknown>;\r\n      if (typeof p.version === \"string\") {\r\n        return p.version;\r\n      }\r\n    }\r\n    return \"1.0\"; // Default to 1.0 for legacy projects\r\n  }\r\n\r\n  toNormalized(opencutProject: unknown): NormalizedProject {\r\n    const project = opencutProject as OpenCutProjectV1;\r\n\r\n    return {\r\n      version: \"1.0\",\r\n      metadata: {\r\n        id: project.id || generateId(),\r\n        name: project.name || \"Untitled Project\",\r\n        createdAt: project.createdAt || new Date().toISOString(),\r\n        updatedAt: project.updatedAt || new Date().toISOString(),\r\n        duration: this.calculateDuration(project),\r\n      },\r\n      canvas: {\r\n        width: project.width || 1920,\r\n        height: project.height || 1080,\r\n        fps: project.fps || 30,\r\n        backgroundColor: project.backgroundColor || \"#000000\",\r\n        backgroundType: project.backgroundType || \"color\",\r\n      },\r\n      tracks: this.normalizeTracks(project.tracks || []),\r\n      mediaManifest: this.extractMediaManifest(project),\r\n    };\r\n  }\r\n\r\n  fromNormalized(project: NormalizedProject): unknown {\r\n    return {\r\n      id: project.metadata.id,\r\n      name: project.metadata.name,\r\n      createdAt: project.metadata.createdAt,\r\n      updatedAt: new Date().toISOString(),\r\n      width: project.canvas.width,\r\n      height: project.canvas.height,\r\n      fps: project.canvas.fps,\r\n      backgroundColor: project.canvas.backgroundColor,\r\n      backgroundType: project.canvas.backgroundType,\r\n      tracks: project.tracks.map((track) => this.denormalizeTrack(track)),\r\n    };\r\n  }\r\n\r\n  private normalizeTracks(tracks: OpenCutTrackV1[]): NormalizedTrack[] {\r\n    return tracks.map((track, index) => ({\r\n      id: track.id || generateId(),\r\n      type: this.normalizeTrackType(track.type),\r\n      order: track.order ?? index,\r\n      muted: track.muted ?? false,\r\n      locked: track.locked ?? false,\r\n      elements: (track.elements || []).map((el) => this.normalizeElement(el)),\r\n    }));\r\n  }\r\n\r\n  private normalizeTrackType(\r\n    type: string\r\n  ): \"main\" | \"video\" | \"audio\" | \"text\" | \"image\" {\r\n    const typeMap: Record<string, NormalizedTrack[\"type\"]> = {\r\n      main: \"main\",\r\n      video: \"video\",\r\n      audio: \"audio\",\r\n      text: \"text\",\r\n      image: \"image\",\r\n      media: \"video\", // Fallback for generic media\r\n    };\r\n    return typeMap[type] || \"video\";\r\n  }\r\n\r\n  private normalizeElement(element: OpenCutElementV1): NormalizedElement {\r\n    return {\r\n      id: element.id || generateId(),\r\n      type: element.type as NormalizedElement[\"type\"],\r\n      startTime: element.startTime || 0,\r\n      duration: element.duration || 0,\r\n      trimStart: element.trimStart || 0,\r\n      trimEnd: element.trimEnd || 0,\r\n      mediaId: element.mediaId,\r\n      textContent: element.content,\r\n      textStyle: element.style\r\n        ? {\r\n            fontFamily: element.style.fontFamily || \"Inter\",\r\n            fontSize: element.style.fontSize || 48,\r\n            fontWeight: element.style.fontWeight || 400,\r\n            color: element.style.color || \"#ffffff\",\r\n            backgroundColor: element.style.backgroundColor,\r\n            textAlign: element.style.textAlign || \"center\",\r\n          }\r\n        : undefined,\r\n      transform: element.transform\r\n        ? {\r\n            x: element.transform.x || 0,\r\n            y: element.transform.y || 0,\r\n            width: element.transform.width || 100,\r\n            height: element.transform.height || 100,\r\n            rotation: element.transform.rotation || 0,\r\n            scale: element.transform.scale || 1,\r\n            opacity: element.transform.opacity ?? 1,\r\n          }\r\n        : undefined,\r\n    };\r\n  }\r\n\r\n  private denormalizeTrack(track: NormalizedTrack): OpenCutTrackV1 {\r\n    return {\r\n      id: track.id,\r\n      type: track.type,\r\n      order: track.order,\r\n      muted: track.muted,\r\n      locked: track.locked,\r\n      elements: track.elements.map((el) => this.denormalizeElement(el)),\r\n    };\r\n  }\r\n\r\n  private denormalizeElement(element: NormalizedElement): OpenCutElementV1 {\r\n    return {\r\n      id: element.id,\r\n      type: element.type,\r\n      startTime: element.startTime,\r\n      duration: element.duration,\r\n      trimStart: element.trimStart,\r\n      trimEnd: element.trimEnd,\r\n      mediaId: element.mediaId,\r\n      content: element.textContent,\r\n      style: element.textStyle\r\n        ? {\r\n            fontFamily: element.textStyle.fontFamily,\r\n            fontSize: element.textStyle.fontSize,\r\n            fontWeight: element.textStyle.fontWeight,\r\n            color: element.textStyle.color,\r\n            backgroundColor: element.textStyle.backgroundColor,\r\n            textAlign: element.textStyle.textAlign,\r\n          }\r\n        : undefined,\r\n      transform: element.transform,\r\n    };\r\n  }\r\n\r\n  private calculateDuration(project: OpenCutProjectV1): number {\r\n    let maxEnd = 0;\r\n    for (const track of project.tracks || []) {\r\n      for (const element of track.elements || []) {\r\n        const endTime = (element.startTime || 0) + (element.duration || 0);\r\n        if (endTime > maxEnd) maxEnd = endTime;\r\n      }\r\n    }\r\n    return maxEnd;\r\n  }\r\n\r\n  private extractMediaManifest(project: OpenCutProjectV1): MediaManifest {\r\n    // Extract unique media references from project\r\n    const mediaItems = new Map<string, any>();\r\n\r\n    for (const track of project.tracks || []) {\r\n      for (const element of track.elements || []) {\r\n        if (element.mediaId && !mediaItems.has(element.mediaId)) {\r\n          mediaItems.set(element.mediaId, {\r\n            id: element.mediaId,\r\n            name: element.name || element.mediaId,\r\n            type: element.type,\r\n            path: element.src || \"\",\r\n            duration: element.mediaDuration,\r\n            size: 0,\r\n            mimeType: \"\",\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      items: Array.from(mediaItems.values()),\r\n    };\r\n  }\r\n}\r\n\r\n// ============================================\r\n// Internal OpenCut V1 Types\r\n// ============================================\r\n\r\ninterface OpenCutProjectV1 {\r\n  id?: string;\r\n  name?: string;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n  width?: number;\r\n  height?: number;\r\n  fps?: number;\r\n  backgroundColor?: string;\r\n  backgroundType?: \"color\" | \"blur\";\r\n  tracks?: OpenCutTrackV1[];\r\n}\r\n\r\ninterface OpenCutTrackV1 {\r\n  id?: string;\r\n  type: string;\r\n  order?: number;\r\n  muted?: boolean;\r\n  locked?: boolean;\r\n  elements?: OpenCutElementV1[];\r\n}\r\n\r\ninterface OpenCutElementV1 {\r\n  id?: string;\r\n  type: string;\r\n  name?: string;\r\n  startTime?: number;\r\n  duration?: number;\r\n  trimStart?: number;\r\n  trimEnd?: number;\r\n  mediaId?: string;\r\n  src?: string;\r\n  mediaDuration?: number;\r\n  content?: string;\r\n  style?: {\r\n    fontFamily?: string;\r\n    fontSize?: number;\r\n    fontWeight?: number;\r\n    color?: string;\r\n    backgroundColor?: string;\r\n    textAlign?: \"left\" | \"center\" | \"right\";\r\n  };\r\n  transform?: {\r\n    x?: number;\r\n    y?: number;\r\n    width?: number;\r\n    height?: number;\r\n    rotation?: number;\r\n    scale?: number;\r\n    opacity?: number;\r\n  };\r\n}\r\n\r\n// ============================================\r\n// Helpers\r\n// ============================================\r\n\r\nfunction generateId(): string {\r\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/adapters/adapter-factory.ts"],"sourcesContent":["/**\r\n * Adapter Factory\r\n *\r\n * Creates the appropriate version adapter based on project version.\r\n */\r\n\r\nimport type { VersionAdapter } from \"../types\";\r\nimport { V1Adapter } from \"./v1-adapter\";\r\n\r\n// Registry of available adapters\r\nconst adapters: Record<string, () => VersionAdapter> = {\r\n  \"1.x\": () => new V1Adapter(),\r\n  // Future: \"2.x\": () => new V2Adapter(),\r\n};\r\n\r\n/**\r\n * Create an adapter for the specified version\r\n */\r\nexport function createAdapter(version: string): VersionAdapter {\r\n  // Try exact match first\r\n  if (adapters[version]) {\r\n    return adapters[version]();\r\n  }\r\n\r\n  // Try major version match (e.g., \"1.0\" -> \"1.x\")\r\n  const majorVersion = version.split(\".\")[0] + \".x\";\r\n  if (adapters[majorVersion]) {\r\n    return adapters[majorVersion]();\r\n  }\r\n\r\n  // Default to latest (V1 for now)\r\n  console.warn(\r\n    `[OpenCut Bridge] Unknown version \"${version}\", falling back to V1 adapter`\r\n  );\r\n  return new V1Adapter();\r\n}\r\n\r\n/**\r\n * Get the default adapter (current version)\r\n */\r\nexport function getDefaultAdapter(): VersionAdapter {\r\n  return new V1Adapter();\r\n}\r\n\r\n/**\r\n * Check if a version is supported\r\n */\r\nexport function isVersionSupported(version: string): boolean {\r\n  const majorVersion = version.split(\".\")[0] + \".x\";\r\n  return version in adapters || majorVersion in adapters;\r\n}\r\n\r\n/**\r\n * List all supported versions\r\n */\r\nexport function getSupportedVersions(): string[] {\r\n  return Object.keys(adapters);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;AAGD;;AAEA,iCAAiC;AACjC,MAAM,WAAiD;IACrD,OAAO,IAAM,IAAI,iLAAS;AAE5B;AAKO,SAAS,cAAc,OAAe;IAC3C,wBAAwB;IACxB,IAAI,QAAQ,CAAC,QAAQ,EAAE;QACrB,OAAO,QAAQ,CAAC,QAAQ;IAC1B;IAEA,iDAAiD;IACjD,MAAM,eAAe,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;IAC7C,IAAI,QAAQ,CAAC,aAAa,EAAE;QAC1B,OAAO,QAAQ,CAAC,aAAa;IAC/B;IAEA,iCAAiC;IACjC,QAAQ,IAAI,CACV,AAAC,qCAA4C,OAAR,SAAQ;IAE/C,OAAO,IAAI,iLAAS;AACtB;AAKO,SAAS;IACd,OAAO,IAAI,iLAAS;AACtB;AAKO,SAAS,mBAAmB,OAAe;IAChD,MAAM,eAAe,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;IAC7C,OAAO,WAAW,YAAY,gBAAgB;AAChD;AAKO,SAAS;IACd,OAAO,OAAO,IAAI,CAAC;AACrB","debugId":null}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/adapters/index.ts"],"sourcesContent":["/**\r\n * Adapters Index\r\n */\r\nexport { V1Adapter } from \"./v1-adapter\";\r\nexport { createAdapter, getDefaultAdapter, isVersionSupported, getSupportedVersions } from \"./adapter-factory\";\r\n"],"names":[],"mappings":"AAAA;;CAEC;AACD;AACA","debugId":null}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/events/src/index.ts"],"sourcesContent":["/**\r\n * @clipfactory/events\r\n *\r\n * Type-safe event bus for platform-wide communication.\r\n * Enables decoupled components to react to system events.\r\n */\r\n\r\n// ============================================\r\n// Event Types\r\n// ============================================\r\n\r\nexport type PlatformEvent =\r\n  // Template events\r\n  | { type: \"template:created\"; templateId: string; name: string }\r\n  | { type: \"template:updated\"; templateId: string }\r\n  | { type: \"template:deleted\"; templateId: string }\r\n  | { type: \"template:applied\"; templateId: string; projectId: string }\r\n\r\n  // Project events\r\n  | { type: \"project:created\"; projectId: string; name: string }\r\n  | { type: \"project:opened\"; projectId: string }\r\n  | { type: \"project:saved\"; projectId: string }\r\n  | { type: \"project:handoff\"; projectId: string; url: string }\r\n\r\n  // Export events\r\n  | { type: \"export:started\"; jobId: string; projectId: string }\r\n  | { type: \"export:progress\"; jobId: string; progress: number }\r\n  | { type: \"export:completed\"; jobId: string; outputPath: string }\r\n  | { type: \"export:failed\"; jobId: string; error: string }\r\n\r\n  // Batch events\r\n  | { type: \"batch:started\"; batchId: string; totalItems: number }\r\n  | { type: \"batch:progress\"; batchId: string; completed: number; total: number }\r\n  | { type: \"batch:completed\"; batchId: string }\r\n  | { type: \"batch:failed\"; batchId: string; error: string };\r\n\r\n// Extract event type string union\r\nexport type EventType = PlatformEvent[\"type\"];\r\n\r\n// Extract specific event by type\r\nexport type EventByType<T extends EventType> = Extract<\r\n  PlatformEvent,\r\n  { type: T }\r\n>;\r\n\r\n// Event handler type\r\nexport type EventHandler<T extends EventType> = (event: EventByType<T>) => void;\r\n\r\n// ============================================\r\n// Event Bus Interface\r\n// ============================================\r\n\r\nexport interface EventBus {\r\n  /**\r\n   * Emit an event to all registered handlers\r\n   */\r\n  emit<T extends PlatformEvent>(event: T): void;\r\n\r\n  /**\r\n   * Subscribe to a specific event type\r\n   * @returns Unsubscribe function\r\n   */\r\n  on<T extends EventType>(type: T, handler: EventHandler<T>): () => void;\r\n\r\n  /**\r\n   * Subscribe to an event type for a single emission only\r\n   */\r\n  once<T extends EventType>(type: T, handler: EventHandler<T>): () => void;\r\n\r\n  /**\r\n   * Remove all handlers for a specific event type\r\n   */\r\n  off(type: EventType): void;\r\n\r\n  /**\r\n   * Clear all event handlers\r\n   */\r\n  clear(): void;\r\n}\r\n\r\n// ============================================\r\n// Event Bus Implementation\r\n// ============================================\r\n\r\nexport function createEventBus(): EventBus {\r\n  const handlers = new Map<EventType, Set<EventHandler<any>>>();\r\n\r\n  return {\r\n    emit(event) {\r\n      const eventHandlers = handlers.get(event.type);\r\n      if (eventHandlers) {\r\n        eventHandlers.forEach((handler) => {\r\n          try {\r\n            handler(event);\r\n          } catch (error) {\r\n            console.error(\r\n              `[EventBus] Error in handler for ${event.type}:`,\r\n              error\r\n            );\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    on(type, handler) {\r\n      if (!handlers.has(type)) {\r\n        handlers.set(type, new Set());\r\n      }\r\n      handlers.get(type)!.add(handler);\r\n\r\n      // Return unsubscribe function\r\n      return () => {\r\n        handlers.get(type)?.delete(handler);\r\n      };\r\n    },\r\n\r\n    once(type, handler) {\r\n      const wrappedHandler: EventHandler<typeof type> = (event) => {\r\n        handler(event);\r\n        handlers.get(type)?.delete(wrappedHandler);\r\n      };\r\n\r\n      if (!handlers.has(type)) {\r\n        handlers.set(type, new Set());\r\n      }\r\n      handlers.get(type)!.add(wrappedHandler);\r\n\r\n      return () => {\r\n        handlers.get(type)?.delete(wrappedHandler);\r\n      };\r\n    },\r\n\r\n    off(type) {\r\n      handlers.delete(type);\r\n    },\r\n\r\n    clear() {\r\n      handlers.clear();\r\n    },\r\n  };\r\n}\r\n\r\n// ============================================\r\n// Singleton Instance\r\n// ============================================\r\n\r\nlet globalEventBus: EventBus | null = null;\r\n\r\n/**\r\n * Get the global event bus instance (singleton)\r\n */\r\nexport function getEventBus(): EventBus {\r\n  if (!globalEventBus) {\r\n    globalEventBus = createEventBus();\r\n  }\r\n  return globalEventBus;\r\n}\r\n\r\n/**\r\n * Reset the global event bus (useful for testing)\r\n */\r\nexport function resetEventBus(): void {\r\n  globalEventBus?.clear();\r\n  globalEventBus = null;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED,+CAA+C;AAC/C,cAAc;AACd,+CAA+C;;;;;;;;;AA2ExC,SAAS;IACd,MAAM,WAAW,IAAI;IAErB,OAAO;QACL,MAAK,KAAK;YACR,MAAM,gBAAgB,SAAS,GAAG,CAAC,MAAM,IAAI;YAC7C,IAAI,eAAe;gBACjB,cAAc,OAAO,CAAC,CAAC;oBACrB,IAAI;wBACF,QAAQ;oBACV,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CACX,AAAC,mCAA6C,OAAX,MAAM,IAAI,EAAC,MAC9C;oBAEJ;gBACF;YACF;QACF;QAEA,IAAG,IAAI,EAAE,OAAO;YACd,IAAI,CAAC,SAAS,GAAG,CAAC,OAAO;gBACvB,SAAS,GAAG,CAAC,MAAM,IAAI;YACzB;YACA,SAAS,GAAG,CAAC,MAAO,GAAG,CAAC;YAExB,8BAA8B;YAC9B,OAAO;oBACL;iBAAA,gBAAA,SAAS,GAAG,CAAC,mBAAb,oCAAA,cAAoB,MAAM,CAAC;YAC7B;QACF;QAEA,MAAK,IAAI,EAAE,OAAO;YAChB,MAAM,iBAA4C,CAAC;oBAEjD;gBADA,QAAQ;iBACR,gBAAA,SAAS,GAAG,CAAC,mBAAb,oCAAA,cAAoB,MAAM,CAAC;YAC7B;YAEA,IAAI,CAAC,SAAS,GAAG,CAAC,OAAO;gBACvB,SAAS,GAAG,CAAC,MAAM,IAAI;YACzB;YACA,SAAS,GAAG,CAAC,MAAO,GAAG,CAAC;YAExB,OAAO;oBACL;iBAAA,gBAAA,SAAS,GAAG,CAAC,mBAAb,oCAAA,cAAoB,MAAM,CAAC;YAC7B;QACF;QAEA,KAAI,IAAI;YACN,SAAS,MAAM,CAAC;QAClB;QAEA;YACE,SAAS,KAAK;QAChB;IACF;AACF;AAEA,+CAA+C;AAC/C,qBAAqB;AACrB,+CAA+C;AAE/C,IAAI,iBAAkC;AAK/B,SAAS;IACd,IAAI,CAAC,gBAAgB;QACnB,iBAAiB;IACnB;IACA,OAAO;AACT;AAKO,SAAS;IACd,2BAAA,qCAAA,eAAgB,KAAK;IACrB,iBAAiB;AACnB","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/launcher.ts"],"sourcesContent":["/**\r\n * OpenCut Editor Launcher\r\n *\r\n * Launches OpenCut editor in a separate browser tab.\r\n * This approach avoids iframe/embedding issues (CORS, security sandbox).\r\n */\r\n\r\nimport { getEventBus } from \"@clipfactory/events\";\r\nimport type { LaunchOptions } from \"./types\";\r\n\r\n// ============================================\r\n// Configuration\r\n// ============================================\r\n\r\nexport interface LauncherConfig {\r\n  /**\r\n   * Base URL for OpenCut editor\r\n   * Default: same origin on different port\r\n   */\r\n  baseUrl?: string;\r\n}\r\n\r\n// Default to localhost:3000 (OpenCut web runs there)\r\nconst DEFAULT_BASE_URL = \"http://localhost:3000\";\r\n\r\nlet config: LauncherConfig = {\r\n  baseUrl: DEFAULT_BASE_URL,\r\n};\r\n\r\n/**\r\n * Configure the launcher\r\n */\r\nexport function configureLauncher(newConfig: Partial<LauncherConfig>): void {\r\n  config = { ...config, ...newConfig };\r\n}\r\n\r\n// ============================================\r\n// Launcher Functions\r\n// ============================================\r\n\r\n/**\r\n * Launch OpenCut editor with a specific project\r\n *\r\n * @param projectId - The project ID to open\r\n * @param options - Launch options\r\n * @returns The opened window reference (or null if blocked)\r\n */\r\nexport function launchEditor(\r\n  projectId: string,\r\n  options?: LaunchOptions\r\n): Window | null {\r\n  const baseUrl = config.baseUrl || DEFAULT_BASE_URL;\r\n\r\n  // Build the editor URL with query params\r\n  const url = new URL(`/editor/${projectId}`, baseUrl);\r\n\r\n  if (options?.mode) {\r\n    url.searchParams.set(\"mode\", options.mode);\r\n  }\r\n\r\n  if (options?.autoSave !== undefined) {\r\n    url.searchParams.set(\"autoSave\", String(options.autoSave));\r\n  }\r\n\r\n  // Open in new tab\r\n  const editorWindow = window.open(url.toString(), \"_blank\");\r\n\r\n  // Emit event\r\n  getEventBus().emit({\r\n    type: \"project:handoff\",\r\n    projectId,\r\n    url: url.toString(),\r\n  });\r\n\r\n  return editorWindow;\r\n}\r\n\r\n/**\r\n * Launch OpenCut to create a new project\r\n *\r\n * @param projectName - Name for the new project\r\n * @returns The opened window reference\r\n */\r\nexport function launchNewProject(projectName?: string): Window | null {\r\n  const baseUrl = config.baseUrl || DEFAULT_BASE_URL;\r\n\r\n  const url = new URL(\"/editor/new\", baseUrl);\r\n\r\n  if (projectName) {\r\n    url.searchParams.set(\"name\", projectName);\r\n  }\r\n\r\n  const editorWindow = window.open(url.toString(), \"_blank\");\r\n\r\n  return editorWindow;\r\n}\r\n\r\n/**\r\n * Launch OpenCut projects page\r\n */\r\nexport function launchProjectsBrowser(): Window | null {\r\n  const baseUrl = config.baseUrl || DEFAULT_BASE_URL;\r\n  const url = new URL(\"/projects\", baseUrl);\r\n\r\n  return window.open(url.toString(), \"_blank\");\r\n}\r\n\r\n/**\r\n * Check if OpenCut is available at the configured URL\r\n */\r\nexport async function isOpenCutAvailable(): Promise<boolean> {\r\n  const baseUrl = config.baseUrl || DEFAULT_BASE_URL;\r\n\r\n  try {\r\n    const response = await fetch(`${baseUrl}/api/health`, {\r\n      method: \"HEAD\",\r\n      mode: \"no-cors\",\r\n    });\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;AAED;;AAeA,qDAAqD;AACrD,MAAM,mBAAmB;AAEzB,IAAI,SAAyB;IAC3B,SAAS;AACX;AAKO,SAAS,kBAAkB,SAAkC;IAClE,SAAS;QAAE,GAAG,MAAM;QAAE,GAAG,SAAS;IAAC;AACrC;AAaO,SAAS,aACd,SAAiB,EACjB,OAAuB;IAEvB,MAAM,UAAU,OAAO,OAAO,IAAI;IAElC,yCAAyC;IACzC,MAAM,MAAM,IAAI,IAAI,AAAC,WAAoB,OAAV,YAAa;IAE5C,IAAI,oBAAA,8BAAA,QAAS,IAAI,EAAE;QACjB,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ,QAAQ,IAAI;IAC3C;IAEA,IAAI,CAAA,oBAAA,8BAAA,QAAS,QAAQ,MAAK,WAAW;QACnC,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY,OAAO,QAAQ,QAAQ;IAC1D;IAEA,kBAAkB;IAClB,MAAM,eAAe,OAAO,IAAI,CAAC,IAAI,QAAQ,IAAI;IAEjD,aAAa;IACb,IAAA,oJAAW,IAAG,IAAI,CAAC;QACjB,MAAM;QACN;QACA,KAAK,IAAI,QAAQ;IACnB;IAEA,OAAO;AACT;AAQO,SAAS,iBAAiB,WAAoB;IACnD,MAAM,UAAU,OAAO,OAAO,IAAI;IAElC,MAAM,MAAM,IAAI,IAAI,eAAe;IAEnC,IAAI,aAAa;QACf,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ;IAC/B;IAEA,MAAM,eAAe,OAAO,IAAI,CAAC,IAAI,QAAQ,IAAI;IAEjD,OAAO;AACT;AAKO,SAAS;IACd,MAAM,UAAU,OAAO,OAAO,IAAI;IAClC,MAAM,MAAM,IAAI,IAAI,aAAa;IAEjC,OAAO,OAAO,IAAI,CAAC,IAAI,QAAQ,IAAI;AACrC;AAKO,eAAe;IACpB,MAAM,UAAU,OAAO,OAAO,IAAI;IAElC,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAU,OAAR,SAAQ,gBAAc;YACpD,QAAQ;YACR,MAAM;QACR;QACA,OAAO;IACT,EAAE,UAAM;QACN,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/packages/opencut-engine/src/index.ts"],"sourcesContent":["/**\r\n * @clipfactory/opencut-engine\r\n *\r\n * OpenCut integration bridge for ClipFactory platform.\r\n * Provides a stable boundary between our platform and OpenCut.\r\n *\r\n * Key Features:\r\n * - Version adapters for schema translation\r\n * - Separate tab launcher (no iframe/embedding)\r\n * - Normalized project format\r\n * - Media manifest extraction\r\n *\r\n * @example\r\n * ```typescript\r\n * import { launchEditor, createAdapter } from '@clipfactory/opencut-engine';\r\n *\r\n * // Launch OpenCut in new tab\r\n * launchEditor('project-123');\r\n *\r\n * // Convert project to normalized format\r\n * const adapter = createAdapter('1.0');\r\n * const normalized = adapter.toNormalized(opencutProject);\r\n * ```\r\n */\r\n\r\n// Types\r\nexport * from \"./types\";\r\n\r\n// Adapters\r\nexport {\r\n  V1Adapter,\r\n  createAdapter,\r\n  getDefaultAdapter,\r\n  isVersionSupported,\r\n  getSupportedVersions,\r\n} from \"./adapters\";\r\n\r\n// Launcher\r\nexport {\r\n  launchEditor,\r\n  launchNewProject,\r\n  launchProjectsBrowser,\r\n  isOpenCutAvailable,\r\n  configureLauncher,\r\n  type LauncherConfig,\r\n} from \"./launcher\";\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;CAuBC,GAED,QAAQ;;AACR;AAEA,WAAW;AACX;AAQA,WAAW;AACX","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/apps/dashboard/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,sOAAO,EAAC,IAAA,gMAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/apps/dashboard/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { launchProjectsBrowser } from \"@clipfactory/opencut-engine\";\r\nimport { \r\n  Home,\r\n  Film,\r\n  FolderOpen,\r\n  Zap,\r\n  Settings,\r\n  Rocket \r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst navItems = [\r\n  { href: \"/\", label: \"Home\", icon: Home },\r\n  { href: \"/templates\", label: \"Templates\", icon: Film },\r\n  { href: \"/projects\", label: \"Projects\", icon: FolderOpen },\r\n  { href: \"/batch\", label: \"Batch Jobs\", icon: Zap },\r\n  { href: \"/settings\", label: \"Settings\", icon: Settings },\r\n];\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname();\r\n\r\n  const handleOpenEditor = () => {\r\n    launchProjectsBrowser();\r\n  };\r\n\r\n  return (\r\n    <aside className=\"w-[260px] h-screen bg-[var(--bg-glass)] backdrop-blur-md border-r border-[var(--border-default)] fixed left-0 top-0 flex flex-col z-50\">\r\n      <div className=\"flex items-center gap-3 p-6 border-b border-[var(--border-default)]\">\r\n        <Film className=\"w-7 h-7 text-[var(--accent)]\" />\r\n        <span className=\"text-xl font-bold gradient-text\">ClipFactory</span>\r\n      </div>\r\n\r\n      <nav className=\"flex-1 p-4 flex flex-col gap-1\">\r\n        {navItems.map((item) => {\r\n          const Icon = item.icon;\r\n          const isActive = pathname === item.href;\r\n\r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className={cn(\r\n                \"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group relative overflow-hidden\",\r\n                isActive \r\n                  ? \"bg-[var(--accent-subtle)] text-[var(--accent)] shadow-[inset_2px_0_0_0_var(--accent)]\" \r\n                  : \"text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] hover:text-[var(--text-primary)]\"\r\n              )}\r\n            >\r\n              <Icon className={cn(\"w-5 h-5 transition-transform duration-200\", isActive ? \"scale-110\" : \"group-hover:scale-110\")} />\r\n              <span className=\"font-medium\">{item.label}</span>\r\n              {isActive && (\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-[var(--accent-subtle)]/50 to-transparent opacity-50\" />\r\n              )}\r\n            </Link>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      <div className=\"p-4 border-t border-[var(--border-default)]\">\r\n        <button\r\n          onClick={handleOpenEditor}\r\n          className=\"w-full flex items-center justify-center gap-2 py-3 px-4 bg-[var(--accent)] text-white font-semibold rounded-lg hover:bg-[var(--accent-dark)] transition-all duration-200 hover:-translate-y-0.5 shadow-lg shadow-purple-900/20 hover:shadow-purple-700/40 relative overflow-hidden group\"\r\n        >\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000\" />\r\n          <Rocket className=\"w-4 h-4\" />\r\n          <span>Open OpenCut</span>\r\n        </button>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;AAbA;;;;;;AAeA,MAAM,WAAW;IACf;QAAE,MAAM;QAAK,OAAO;QAAQ,MAAM,+RAAI;IAAC;IACvC;QAAE,MAAM;QAAc,OAAO;QAAa,MAAM,8RAAI;IAAC;IACrD;QAAE,MAAM;QAAa,OAAO;QAAY,MAAM,oTAAU;IAAC;IACzD;QAAE,MAAM;QAAU,OAAO;QAAc,MAAM,2RAAG;IAAC;IACjD;QAAE,MAAM;QAAa,OAAO;QAAY,MAAM,0SAAQ;IAAC;CACxD;AAEM,SAAS;;IACd,MAAM,WAAW,IAAA,yNAAW;IAE5B,MAAM,mBAAmB;QACvB,IAAA,4KAAqB;IACvB;IAEA,qBACE,kQAAC;QAAM,WAAU;;0BACf,kQAAC;gBAAI,WAAU;;kCACb,kQAAC,8RAAI;wBAAC,WAAU;;;;;;kCAChB,kQAAC;wBAAK,WAAU;kCAAkC;;;;;;;;;;;;0BAGpD,kQAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,OAAO,KAAK,IAAI;oBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;oBAEvC,qBACE,kQAAC,+OAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,iJAAE,EACX,2GACA,WACI,0FACA;;0CAGN,kQAAC;gCAAK,WAAW,IAAA,iJAAE,EAAC,6CAA6C,WAAW,cAAc;;;;;;0CAC1F,kQAAC;gCAAK,WAAU;0CAAe,KAAK,KAAK;;;;;;4BACxC,0BACC,kQAAC;gCAAI,WAAU;;;;;;;uBAZZ,KAAK,IAAI;;;;;gBAgBpB;;;;;;0BAGF,kQAAC;gBAAI,WAAU;0BACb,cAAA,kQAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,kQAAC;4BAAI,WAAU;;;;;;sCACf,kQAAC,oSAAM;4BAAC,WAAU;;;;;;sCAClB,kQAAC;sCAAK;;;;;;;;;;;;;;;;;;;;;;;AAKhB;GApDgB;;QACG,yNAAW;;;KADd","debugId":null}},
    {"offset": {"line": 712, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/apps/dashboard/src/stores/auth-store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist, createJSONStorage } from 'zustand/middleware';\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  avatar?: string;\r\n  role: 'admin' | 'user';\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  login: (email: string) => void;\r\n  logout: () => void;\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n  persist(\r\n    (set) => ({\r\n      user: null,\r\n      isAuthenticated: false,\r\n      login: (email: string) => {\r\n        // Mock login - in a real app, this would validate credentials\r\n        set({\r\n          isAuthenticated: true,\r\n          user: {\r\n            id: 'user-1',\r\n            name: 'Demo User',\r\n            email: email,\r\n            role: 'admin',\r\n            avatar: 'https://github.com/shadcn.png',\r\n          },\r\n        });\r\n      },\r\n      logout: () => {\r\n        set({\r\n          isAuthenticated: false,\r\n          user: null,\r\n        });\r\n      },\r\n    }),\r\n    {\r\n      name: 'clipfactory-auth',\r\n      storage: createJSONStorage(() => localStorage),\r\n    }\r\n  )\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAiBO,MAAM,eAAe,IAAA,4NAAM,IAChC,IAAA,kOAAO,EACL,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,iBAAiB;QACjB,OAAO,CAAC;YACN,8DAA8D;YAC9D,IAAI;gBACF,iBAAiB;gBACjB,MAAM;oBACJ,IAAI;oBACJ,MAAM;oBACN,OAAO;oBACP,MAAM;oBACN,QAAQ;gBACV;YACF;QACF;QACA,QAAQ;YACN,IAAI;gBACF,iBAAiB;gBACjB,MAAM;YACR;QACF;IACF,CAAC,GACD;IACE,MAAM;IACN,SAAS,IAAA,4OAAiB,EAAC,IAAM;AACnC","debugId":null}},
    {"offset": {"line": 753, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/apps/dashboard/src/components/auth-guard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useAuthStore } from \"@/stores/auth-store\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport function AuthGuard({ children }: { children: React.ReactNode }) {\r\n  const isAuthenticated = useAuthStore((state) => state.isAuthenticated);\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    // If not authenticated and not on login page, redirect to login\r\n    if (!isAuthenticated && pathname !== \"/login\") {\r\n      router.push(\"/login\");\r\n    }\r\n    \r\n    // If authenticated and on login page, redirect to dashboard\r\n    if (isAuthenticated && pathname === \"/login\") {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated, pathname, router]);\r\n\r\n  // Don't render children while redirecting if unauthenticated, \r\n  // but allow rendering the login page itself\r\n  if (!isAuthenticated && pathname !== \"/login\") {\r\n    return null;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,UAAU,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACxB,MAAM,kBAAkB,IAAA,sKAAY;mDAAC,CAAC,QAAU,MAAM,eAAe;;IACrE,MAAM,SAAS,IAAA,uNAAS;IACxB,MAAM,WAAW,IAAA,yNAAW;IAE5B,IAAA,+OAAS;+BAAC;YACR,gEAAgE;YAChE,IAAI,CAAC,mBAAmB,aAAa,UAAU;gBAC7C,OAAO,IAAI,CAAC;YACd;YAEA,4DAA4D;YAC5D,IAAI,mBAAmB,aAAa,UAAU;gBAC5C,OAAO,IAAI,CAAC;YACd;QACF;8BAAG;QAAC;QAAiB;QAAU;KAAO;IAEtC,+DAA+D;IAC/D,4CAA4C;IAC5C,IAAI,CAAC,mBAAmB,aAAa,UAAU;QAC7C,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ;GAxBgB;;QACU,sKAAY;QACrB,uNAAS;QACP,yNAAW;;;KAHd","debugId":null}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eng.%20Opeyemmith/Desktop/Project/Opencut_Advance/OpenCut/apps/dashboard/src/app/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Toaster } from \"sonner\";\r\nimport { Sidebar } from \"@/components/sidebar\";\r\nimport { AuthGuard } from \"@/components/auth-guard\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport \"./globals.css\";\r\n\r\n// Metadata cannot be exported from a client component\r\n// We should move this to a separate layout or metadata file if strictly needed server-side\r\n// but for this client-heavy MVP this is acceptable for now or can be handled in page.tsx\r\n\r\nexport default function RootLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const pathname = usePathname();\r\n  const isLoginPage = pathname === \"/login\";\r\n\r\n  return (\r\n    <html lang=\"en\" className=\"dark\">\r\n      <body className=\"bg-[var(--bg-primary)] text-[var(--text-primary)] antialiased relative\">\r\n        <AuthGuard>\r\n          {!isLoginPage && <Sidebar />}\r\n          <main \r\n            className={`min-h-screen relative z-0 transition-all duration-300 ease-in-out ${\r\n              !isLoginPage ? \"pl-[260px]\" : \"\"\r\n            }`}\r\n          >\r\n            {children}\r\n          </main>\r\n        </AuthGuard>\r\n        <Toaster position=\"bottom-right\" richColors theme=\"dark\" />\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;;AAYe,SAAS,WAAW,KAIlC;QAJkC,EACjC,QAAQ,EAGT,GAJkC;;IAKjC,MAAM,WAAW,IAAA,yNAAW;IAC5B,MAAM,cAAc,aAAa;IAEjC,qBACE,kQAAC;QAAK,MAAK;QAAK,WAAU;kBACxB,cAAA,kQAAC;YAAK,WAAU;;8BACd,kQAAC,wKAAS;;wBACP,CAAC,6BAAe,kQAAC,gKAAO;;;;;sCACzB,kQAAC;4BACC,WAAW,AAAC,qEAEX,OADC,CAAC,cAAc,eAAe;sCAG/B;;;;;;;;;;;;8BAGL,kQAAC,4NAAO;oBAAC,UAAS;oBAAe,UAAU;oBAAC,OAAM;;;;;;;;;;;;;;;;;AAI1D;GAzBwB;;QAKL,yNAAW;;;KALN","debugId":null}}]
}